<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>File Uploads 2015 | The Devel!</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="File Uploads 2015" />
<meta name="author" content="choonkeat" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Another day, another monolith Ruby gem to reach deep into the bowels of your app config, models, views, controllers and make you manage uploading of file, storage of files, processing of files together with the rest of your business logic, only with the promise of loads and loads of syntax-sugar and enough config option to hang yourself with." />
<meta property="og:description" content="Another day, another monolith Ruby gem to reach deep into the bowels of your app config, models, views, controllers and make you manage uploading of file, storage of files, processing of files together with the rest of your business logic, only with the promise of loads and loads of syntax-sugar and enough config option to hang yourself with." />
<link rel="canonical" href="http://localhost:4000/weblog/2015/10/file-uploads-2015.html" />
<meta property="og:url" content="http://localhost:4000/weblog/2015/10/file-uploads-2015.html" />
<meta property="og:site_name" content="The Devel!" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-10-29T00:00:00+08:00" />
<script type="application/ld+json">
{"headline":"File Uploads 2015","dateModified":"2015-10-29T00:00:00+08:00","datePublished":"2015-10-29T00:00:00+08:00","author":{"@type":"Person","name":"choonkeat"},"description":"Another day, another monolith Ruby gem to reach deep into the bowels of your app config, models, views, controllers and make you manage uploading of file, storage of files, processing of files together with the rest of your business logic, only with the promise of loads and loads of syntax-sugar and enough config option to hang yourself with.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/weblog/2015/10/file-uploads-2015.html"},"url":"http://localhost:4000/weblog/2015/10/file-uploads-2015.html","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="The Devel!" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">The Devel!</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">File Uploads 2015</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2015-10-29T00:00:00+08:00" itemprop="datePublished">Oct 29, 2015
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Another day, another monolith Ruby gem to reach deep into the bowels of your app config, models, views, controllers and make you manage uploading of file, storage of files, processing of files together with the rest of your business logic, only with the promise of loads and loads of syntax-sugar and enough config option to hang yourself with.</p>

<p>paperclip, carrierwave, dragonfly, refile, shrine&#8230;</p>

<p>The libraries may have high code quality, full coverage specs, flexible, comprehensive, easy, but it is bad architecture. I’ve covered most of them in <a href="http://www.slideshare.net/choonkeat/file-upload-2015">this presentation</a> and won’t repeat them here.</p>

<p>While the Ruby community wasn&#8217;t looking, the rest of the world has moved on to having standalone servers to manage &amp; process their file uploads. Latest example: <a href="https://medium.com/medium-eng/the-stack-that-helped-medium-drive-2-6-millennia-of-reading-time-e56801f7c492?source=tw-f29a01c49588-1446087364731#e425--share-0-487">medium.com</a></p>

<p>When you adopt a server-client pattern (as oppose to syntax-sugar-into-my-monolith-rails-app pattern) you&#8217;ll discover can optimize, manage, scale independently, extend and improve using standard protocols; a whole new world of possibilities.</p>

<p>What? This <a href="https://github.com/choonkeat/attache">rack+imagemagick server</a> not working out for you? Swap in your own clustered-faster-attache.go server and your Rails app chugs along oblivious to the change.</p>

<p>What? Don’t like <a href="https://github.com/choonkeat/attache_rails">reactjs in the attache client gem</a>? Introduce your own no-framework-js-attache gem and your attache server can remain oblivious to the upgrade.</p>

<p>What? Need to support that spanking new open protocol for resumable upload over unreliable network? Have option for Instagram-like processing? Well then <a href="https://github.com/choonkeat/attache/pull/10">add a middleware</a> to your image server and both your server and Rails app can remain blissfully ignorant.</p>

<p>Architecture.</p>

<p>You already know it. That&#8217;s why the common pattern is to use a database, redis, nginx alongside your Rails app. Instead of just having syntax-sugar inside your Rails app to wrangle with b-trees.</p>

<p>Or maybe this will work better: microservices!</p>

  </div><a class="u-url" href="/weblog/2015/10/file-uploads-2015.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The Devel!</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">choonkeat</li><li><a class="u-email" href="mailto:contactme@choonkeat.com">contactme@choonkeat.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/choonkeat"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">choonkeat</span></a></li><li><a href="https://www.twitter.com/choonkeat"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">choonkeat</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>choonkeat on programming &amp; software</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
