
<!DOCTYPE HTML>
<html lang="en-GB">
<head>
	<meta charset="utf-8">
	<title>choonkeat on programming & software  | The Devel!</title>

	<meta name="author" content="choonkeat">

<meta name="description" content="
		I&#8217;d previously blogged about some ideas to resolve the developer-designer gulf regarding templates. I&#8217;m happy I&#8217;ve finally fou..."> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="http://feeds.feedburner.com/choonkeat" rel="alternate" title="The Devel!" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href="/stylesheets/application.css" media="screen, projection" rel="stylesheet" type="text/css">
<script src="/javascripts/application.js"></script>

</head>



<body>
	<header id="header" class="inner"><h1><a href="/">The Devel!</a></h1>
<span class="tagline">choonkeat on programming & software</span>
<nav id="main-nav"><ul>
	<li><a href="/weblog/chew-choon-keat.html">About</a></li>
	<li><a href="/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/weblog/chew-choon-keat.html">About</a></li>
	<li><a href="/archives">Archives</a></li>
</ul>
</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/10/hquery-an-unobtrusive-server-script-implementation.html">
			
				hquery: an unobtrusive server script implementation</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-10-02T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>I&#8217;d <a href="http://blog.choonkeat.com/weblog/2008/03/no-template-is.html">previously blogged</a> about some ideas to resolve the developer-designer gulf regarding templates. I&#8217;m happy I&#8217;ve finally found time to code up a proof-of-concept:</p><div><br>

<object width="500" height="377">	<param name="allowfullscreen" value="true" />	<param name="allowscriptaccess" value="always" />	<param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id=1836815&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=0&amp;show_portrait=0&amp;color=CC0500CC0500&amp;fullscreen=1" />	<embed src="http://vimeo.com/moogaloop.swf?clip_id=1836815&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=0&amp;show_portrait=0&amp;color=CC0500CC0500&amp;fullscreen=1" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="500" height="377"></embed></object><br /><a href="http://vimeo.com/1836815?pg=embed&amp;sec=1836815">hquery - the unobtrusive server script</a> from <a href="http://vimeo.com/user248563?pg=embed&amp;sec=1836815">choonkeat</a> on <a href="http://vimeo.com?pg=embed&amp;sec=1836815">Vimeo</a>.

<br><div><span style="font-weight: bold;">Q: What is &#8220;unobtrusive server script&#8221;?</span></div><br><div>If &#8220;unobtrusive javascript&#8221; adds interaction to a web page without being inside the markup - then &#8220;unobtrusive server script&#8221; replaces data in a web page without being inside the markup (and design).</div><br><div>You&#8217;ll get a clean separation of 1) designed web page is constructed, then 2) server data is weaved in, and finally 3) javascript hooks up the interactive portions.</div><br><div>The key thing is that all 3 layers are stringed together by CSS path - a concept / language that both designers and developers can communicate with.</div><br><div><span style="font-weight: bold;">Q: Is this a silver bullet?</span></div><br><div>No. There are constraints: everything that needs to be dynamic, need its own CSS/XPath. e.g. Google&#8217;s result page markup isn&#8217;t very suitable:</div><br><div>  <span style="font-family: Courier;">&lt;div><span style="font-weight: bold;">this is abstract</span>&lt;cite>citation&lt;/cite>&lt;/div></span></div><br><div>Notice how we can&#8217;t address the abstract content without stepping on <span style="font-family: Courier;">&lt;cite></span>. When using USS, we&#8217;ll need the markup to be:</div><br><div><div>  <span style="font-family: Courier;">&lt;div><span style="font-weight: bold;">&lt;span>this is abstract&lt;/span></span>&lt;cite>citation&lt;/cite>&lt;/div></span></div><br></div><div>Then both abstract and citation can be targeted independently. Furthermore, to be totally isolated from markup changes, it is best to only use classes and ids without the tag names.</div><br><div><span style="font-weight: bold;">Q: Is USS a Ruby on Rails thing?</span></div><br><div>Nope. &#8220;hquery&#8221; is just a library I wrote to do USS in Rails. I believe any language / framework can have its own USS renderer.</div><br><div><span style="font-weight: bold;">Q: How do I write javascript that needs dynamic values?</span></div><br><div>Instead of writing mixed-up code like this:</div><br><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><p><span style="font-family: Courier;">&lt;script><br>  alert(&#8220;I am &lt;%= user.name %>&#8221;);<br>&lt;/script></span></p></blockquote><br><div>Try doing it this way (separating data from logic):</div><br><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><p><span style="font-family: Courier;">&lt;div id=&#8221;json&#8221;>&lt;script>var user = {name: &#8216;foo&#8217;};&lt;/script>&lt;/div><br>&lt;script><br>  alert(&#8220;I am &#8221; + user.name);<br>&lt;/script></span></p></blockquote><br><div>Then in your script, you can swap out the JSON data:</div><br><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><p><span style="font-family: Courier;">select &#8220;#json script&#8221; do |ele|<br>  ele.html &#8220;var person = &#8221; + current_user.to_json   <br>end</span></p></blockquote><br><div><span style="font-weight: bold;">Q: Where next?</span></div><br><div>I dunno. Since hquery script is declarative, we can compile to regular &lt;% messy %> template as runtime? Or, have build tasks that can check that corresponding HTML contain necessary elements - i.e. a new design don&#8217;t break/miss out anything?</div><br><div>Anything else? Love to hear your thoughts!</div><br><br><div><span style="font-style: italic;">PS: I find myself trusting Yahoo search results when its in Google skin!</span></div><br><br></div>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/07/chew-choon-keat.html">
			
				(Chew) Choon Keat</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-07-15T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p><img class="at-xid-6a00e398212d6f883300e5539dd5138833 " style="float: right; display: inline; margin-left: 1em;" title="N673588474_2688" src="/images/old/profile.jpg" border="0" alt="N673588474_2688" />loves programming and has been doing that professionally for over 10 years - moving from C, Perl, Java to Ruby &amp; Javascript. Choon Keat is curious about everything and is always thinking of ways to improve [his] life with better design, better software. Sometimes, he even <a href="http://"></a><a href="http://blog.choonkeat.com/">blogs</a>&nbsp;about these things.</p>
<p>Choon Keat is practical, delivers simple solution and executes iteratively. He has been practicing that on a startup he has founded, <a href="http://sharedcopy.com"></a><a href="http://sharedcopy.com">SharedCopy</a>.</p>
<h2>Professional summary</h2>
<p>Choon Keat finds himself involved in startups most of the time. But he did once venture into a mid-size J2EE shop to find out what enterprise software was about.&nbsp;</p>
<p>His hands-on&nbsp;experience range from (server-side) administrating Linux boxes, writing web apps &amp; integration with SMSC, MMSC &amp; Jabber, to (client-side) writing Eclipse plugins, Javascript, Flash ActionScript, to programming on various other devices like phones and the TV.</p>
<p>His recent work revolves around email, Ruby, Rails and a lot of Javascript.</p>
<h2>Software passion</h2>
<p>Choon Keat loves open source. He gives back by submitting patches to the <a href="http://www.rubyonrails.com">Rails project</a> and releasing his own software as open source: <a href="http://github.com/choonkeat/hquery/tree/master">hquery</a>, <a href="http://code.google.com/p/oauth4r">oauth4r</a>, <a href="http://blog.choonkeat.com/weblog/2008/04/poor-mans-trend.html">poormans-trends</a>, <a href="http://blog.choonkeat.com/weblog/2006/06/krjs-rjs-withou.html">krjs</a>,&nbsp;<a href="http://blog.choonkeat.com/weblog/2007/04/now-ive-finally.html">web_sg_form_builder</a>,&nbsp;<a href="http://blog.choonkeat.com/weblog/2006/07/hpricotforms.html">hpricot_forms</a>, <a href="http://rubyforge.org/projects/rssfwd">rssfwd</a>.</p>
<p>Occasionally, the need to share overflows and he turns them into talks for geek audience: <a href="http://blog.choonkeat.com/weblog/2008/04/ruby-on-rails-.html">Sharing session for PHP User Group</a>, <a href="http://blog.choonkeat.com/weblog/2007/11/singapore-rb-me.html">OAuth for Singapore Ruby&nbsp;Brigade</a>, and <a href="http://blog.choonkeat.com/weblog/2006/03/notes-from-rail.html">Rails boot camp 1</a>&nbsp;and <a href="http://blog.choonkeat.com/weblog/2007/08/24hr-programmin.html">Rails boot camp 2</a>.</p>
<p>Choon Keat understands that experiments are a large part of learning. Hence he&#8217;ll&nbsp;occasionally&nbsp;deploy&nbsp;experiments like <a href="http://real-friends.choonkeat.com/">Real [Twitter] Friends</a>, <a href="http://blog.choonkeat.com/weblog/2009/04/an-iphone-optimized-web-page.html">Rss Paper for iPhone</a>, <a href="http://blog.choonkeat.com/weblog/2008/03/a-clearer-layou.html">Timezone UI</a> &amp; <a href="http://blog.choonkeat.com/weblog/2008/03/tryanslator2.html">Translation UI</a> just to see how well they work.</p>
<h2>What he&#8217;s working on now</h2>
<p><a href="http://blog.choonkeat.com/weblog/2015/10/file-uploads-2015.html">Trying to convince</a> others to employ <a href="https://attache-demo.herokuapp.com/">a image server</a> to handle file uploads, instead of simply reaching for the most fashionable gem.</p>
<ul>
  <li><a href="http://www.slideshare.net/choonkeat/file-upload-2015">Slideshow</a></li>
  <li><a href="https://github.com/choonkeat/attache">Reference implementation</a></li>
  <li><a href="https://attache-demo.herokuapp.com/">Demo</a></li>
</ul>

<h2>Contact</h2>
<p>e-mail: &nbsp;<a href="mailto:contactme@choonkeat.com">contactme@choonkeat.com</a></p>
<p>twitter: <a href="http://twitter.com/choonkeat">@choonkeat</a></p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/07/so-love-this-film.html">
			
				So love this film</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-07-08T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p><script type="text/javascript" src="http://c-widgets.disney.go.com/o/47f52785575c8467/48732eaef46be766/48659d2e10d26989/c8cafe1/widget.js"></script></p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/06/usa-google-io-and-railsconf-08.html">
			
				USA, Google IO and RailsConf &#39;08</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-06-04T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>This is a brain dump, knowing that if I don&#39;t write this now, I probably won&#39;t ever.</p><div><span style="font-weight: bold;"><span style=" ">USA</span></span></div><div>They say the weather in San Francisco is perfect, but I think I&#39;d prefer 8 degrees (celsius) warmer.. <span style="font-style: italic;">then</span> it&#39;ll be really perfect. (And for my friends complaining their MacBook Pro runs hot&#8230; its a geographical/design problem, you see the CPU fans will never kick in <span style="font-style: italic;">here ;-</span>)</div><br /><div>A &quot;quarter&quot; is a really unproportionately valuable coin. Its a popular choice everywhere and you&#39;ll never have enough of it. I&#39;m not sure if I can keep up, collecting 12 of them for my weekly laundry.</div><br /><div>On the street, there is no &quot;green man&quot; for pedestrians. Its a myth. The man is <a href="http://www.flickr.com/photos/choonkeat/2526855233/in/set-72157605277094910/">white</a>. <a href="http://www.theorytestadvice.co.uk.sharedcopy.com/HCPlus/7_Rules_135_-_179/c91901679e3ea67cea0e8b6458da5363.html#shcp2">Lines across a junction</a> means nothing, but a double-yellow in the middle of the road means it is 2-way. Turn right on red light is the default.</div><br /><div>Google is much more valuable in the States. The level of integration (and ease of use!!) they provide with real-world services is certainly something drool-worthy for Singaporeans. For example, look at this <a href="http://maps.google.com/maps?f=d&amp;hl=en&amp;geocode=6063996273876520721,37.806529,-122.403703&amp;saddr=San+Francisco+Int&#39;l+Airport&amp;daddr=Alcatraz+Cruise+%4037.806529,-122.403703&amp;mra=cc&amp;dirflg=r&amp;sll=37.710405,-122.3973&amp;sspn=0.319409,0.426407&amp;ie=UTF8&amp;ll=37.737055,-122.410355&amp;spn=0.326897,0.513611&amp;z=11&amp;start=0">map</a>. Something a lot of ppl I talked to didn&#39;t realise is the information on the left pane: <span style="font-weight: bold;">Public Transit</span>. It has price, train schedules (go to options &amp; choose when you wanna arrive). A tourist like me can really survive on Google. Just add free wifi.</div><br /><div>The night before driving to <a href="http://www.flickr.com/photos/choonkeat/sets/72157605287440146/">Big Sur</a>, we went Google Earth surfing to recce the place. After been there for real, I think Google Earth redefines <a href="http://en.wikipedia.org/wiki/WYSIWYG">WYSIWYG</a>.</div><br /><div style=" "><span style="font-weight: bold;">Google IO</span></div><div>2 things impressed me: Android demo and <a href="http://www.flickr.com/photos/choonkeat/sets/72157605317636269/">the food</a>.<br /></div><br /><div>For the 2 of you who haven&#39;t read, the Android demo in the first keynote was really impressive. Clearly iPhone inspired, but not as sheek.</div><br /><div>A &quot;home&quot; screen where you use swipe gesture to scroll. Favorite apps anchored at bottom. Press and hold to drag icons around. A Webkit browser means all their previous iPhone mods for google search, mail, etc now works the same in Android.. such coincidence. I bet screen dimensions will match as well.</div><br /><div>Best of all, a Google Maps &quot;Street view&quot; was demoed. It was really, really smooth. Holding it up and pointing your device north or south will actually swivel the street view to match your direction - how cool is that! Come to think of it, a compass is for street view might be a bit gimmicky. But if the compass works for google maps itself (where the maps rotate appropriately) now <span style="font-style: italic;">THAT</span> will be cool.<span style="font-family: Helvetica;  line-height: normal; "></span></div><div><span style="font-family: Helvetica;  line-height: normal; "><span style="font-style: italic;">[Update: This is </span></span><span style=" line-height: normal; "><a href="http://ajaxian.com/archives/flipping-out-over-safari"><span style="font-style: italic;">do-able indeed</span></a></span><span style="font-family: Helvetica;  line-height: normal; "><span style="font-style: italic;"> on Webkit!]</span></span></div><br /><div style=" "><span style="font-weight: bold;">RailsConf 08</span></div><div>My favourite part of the conference is the first lightning talk where I signed up and demo SharedCopy. This is the response in the IRC channel (roughly <a href="http://www.urbanhonking.com.sharedcopy.com/ideasfordozens/2008/06/4ecc2f5972f59a35bbe632daf1a242b8.html">the same from the floor</a>)</div><p><a href="http://www.flickr.com/photos/choonkeat/2542764619/" title="Response to SharedCopy Demo [RailsConf 2008] by choonkeat, on Flickr"><img alt="Response to SharedCopy Demo [RailsConf 2008]" border="0" height="375" src="http://farm4.static.flickr.com/3067/2542764619_67d3f611f7_o.jpg" width="592" /></a></p><p>[screenshot donated by <a href="http://blog.codefront.net/">Chu Yeow</a> - thanks!]</p><p>It is hard to do <a href="http://sharedcopy.com">SharedCopy</a> justice by describing it in words. It needs a demo. I&#39;m glad I had the chance to do a quick one in RailsConf. My only regret is that I forgot to show the <a href="http://sharedcopy.com/public/read-later">read-later feature</a>.</p><div>Now Maglev is really interesting. Avi&#39;s showmanship definitely helped (he was putting and pulling rabbits out of the hat across different Ruby VMs). But Maglev is interesting in a different way JRuby / Rubinius is. The latter 2 effectively replaces MRI. Maglev however brings the Smalltalk way of doing things with it - if you have object persistence, why use a database? i.e. A regular joe Rails app may choose to run on MRI, JRuby or Rubinius. I don&#39;t see Maglev having much incentive (and interest) to run a regular Joe Rails app other than marketing purpose. Their vision is to run Ruby/Rails apps architected in an entirely different way. Hence, their paths don&#39;t really meet.</div><br /><div>There are gripes about the conference though. Some keynotes were really uninspiring (compared to RailsConf &#39;06) the upside is I got my mod_rails working during one of the keynotes! And as if finding (cheap) hotels for a conference wasn&#39;t hard enough, it had to coincide with Portland&#39;s Rose Festival. Doh!</div><p><a href="http://sharedcopy.com/"></a></p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/05/somethings-gotta-give.html">
			
				Something&#39;s Gotta Give</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-05-26T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		Saw this clarification on TC regarding Twitter<br><div class='sharedcopy_widget' id='shcp_49cf5b567747f3411565e53a107ab110' ><blockquote class='cited'  cite='http://r7.sharedcopy.com/29ptdlct' style='cursor: pointer; margin-left: 0; padding: 0 0 1em 1em; border: 1px #FFFFFF solid; border-left: 1em #EEEEEE solid; background: #ffffff; '> <span class="content comments_count_1 withoutphoto" ><span class="text" ><div class="html_gist techcrunch_com"><input class="csspath" type="hidden" value="body div#page div#container table tbody tr td div#content div#post-17834.post div.entry.snap_trigger_icon p img.shot.shcp_dimension_223x70" /></div> <blockquote style="text-align: justify; font-style: italic; border: 0px; " class="comment_body comment_body1" >the issue certainly isn’t with creating new messages, the issue is when you check your own messages For eg, if I am following 200 people, the query needs to check the new messages from all those people and sort them into date order. That query would be really intense<a href="http://r7.sharedcopy.com/29ptdlct#shcp0" > <sup>link &raquo;</sup></a ></blockquote> </span ></span> - from <a href="http://r7.sharedcopy.com/29ptdlct">Twitter At Scale: Will It Work?</a> via <a href="http://sharedcopy.com">sharedcopy.com</a></blockquote></div><script>  var json_49cf5b567747f3411565e53a107ab110 = {   host: 'sharedcopy.com',   width: '480px',   height: '250px',   bgcolor: '#ffffff',   background: '#ffffff url(http://www.techcrunch.com.sharedcopy.com/images/loading.gif) no-repeat center center; ',   allow_click: false,   src: 'http://www.techcrunch.com.sharedcopy.com/embeds/copy/choonkeat/49cf5b567747f3411565e53a107ab110/480.250/ffffff.ffffff.cc0500/false/shcp0.html' };</script><script src='http://sharedcopy.com/static/embed/script.js'></script><br>I&#8217;d heard that earlier in the <a href="http://gillmorgang.techcrunch.com/2008/05/15/gillmor-gang-051508/">Gilmor Gang</a> : Blaine clarified that static resources (e.g. profile images) are no issue at all, and that the the bigger issue is with each person&#8217;s &#8220;home page&#8221;, where multiple streams are joined and ordered chronologically. When 1 of the connected people update, all related cached &#8220;home pages&#8221; are obsolete - hence they are generated painfully often. (so don&#8217;t refresh your own page so much!)<br><br>I&#8217;m not a scaling expert. Nor do I know anything about Twitter&#8217;s real problems. So treat this as noise maybe.<br><br>Anyways, ignoring other things unknown and purely focusing on this particular aspect&#8230; I thought it&#8217;d be interesting to consider what we might gain, if we&#8217;re just willing to give up certain things?<br><br>So.. assuming static resources ain&#8217;t a problem, lets try to have more of those! A single person&#8217;s stream (without friends) looks cachable - like a blog that generates html instead of serving dynamic. A single person&#8217;s social graph (following who) looks cachable as well. If assumptions are wrong here, then exit(1); So a person&#8217;s homepage is his own static stream with static external references to static streams of ppl he follows. Like a html page referencing a bunch of CSS. No server side join or sort. Instead, the browser, with the help of some static javascript, pulls in <em>those</em> resources, does the merging and sorting (and paging) and spit a pretty display similar to the current. i.e. every user&#8217;s browser does its own merging and sorting, you know&#8230; like, help out will ya?<br><br>Would that be better? And what did we give up? The ability to properly browse your own Twitter homepage on a browser without JS &amp; clients using API need a few more pulls and do merging / sorting themselves too. <br><br>Can we live with that?<br><br>Update: Slim pointed to an article in the comments, and &#8220;Part III&#8221; of that article, Eran had talked abt the same alternative:<br><div class='sharedcopy_widget' id='shcp_49dba0a4cf15030cc61fbbc055bc4fb9' ><blockquote class='cited'  cite='http://r2.sharedcopy.com/29reg' style='cursor: pointer; margin-left: 0; padding: 0 0 1em 1em; border: 1px #FFFFFF solid; border-left: 1em #EEEEEE solid; background: #ffffff; '> <span class="content comments_count_2 withoutphoto" ><span class="text" > <blockquote style="text-align: justify; font-style: italic; border: 0px; " class="comment_body comment_body1" >if you only ask this once, the server side batch solution will be faster. But when the client starts asking this once a minute or more repeatedly, resources go to waste and scalability is more expensive.<a href="http://r2.sharedcopy.com/29reg#shcp0" > <sup>link &raquo;</sup></a ></blockquote> <blockquote style="text-align: justify; font-style: italic; border: 0px; " class="comment_body comment_body2" >Once the server is only serving data with limited scope, usually providing the messages of a single person with the optional perspective of the reader (to enforce access control), scaling becomes a much easier task as data can be segmented easier.<a href="http://r2.sharedcopy.com/29reg#shcp1" > <sup>link &raquo;</sup></a ></blockquote> </span ></span> - from <a href="http://r2.sharedcopy.com/29reg">Hueniverse: Scaling a Microblogging Service - Part III</a> via <a href="http://sharedcopy.com">sharedcopy.com</a></blockquote></div><script>  var json_49dba0a4cf15030cc61fbbc055bc4fb9 = {   host: 'sharedcopy.com',   width: '480px',   height: '250px',   bgcolor: '#ffffff',   background: '#ffffff url(http://www.hueniverse.com.sharedcopy.com/images/loading.gif) no-repeat center center; ',   allow_click: false,   src: 'http://www.hueniverse.com.sharedcopy.com/embeds/copy/choonkeat/49dba0a4cf15030cc61fbbc055bc4fb9/480.250/ffffff.ffffff.cc0500/false/shcp0.html' };</script><script src='http://sharedcopy.com/static/embed/script.js'></script>
<br>Update: Then again, you have scoble who follows 30k other people making it impractical for the client to fetch those streams independently&#8230; I guess most systems would decide to place limits and &#8220;punt&#8221; the issue, e.g. you can have at most 5000 friends. And that&#8217;s something Twitter is unwilling to let go.


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/05/lightbox-thickb.html">
			
				Lightbox, Thickbox, Greybox - Ugh</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-05-07T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>I dislike the increasing (still?) trend of websites deploying a <a href="http://www.front-end-developer.com/2008/04/11/top-17-css-lightbox-variations/">lightbox (or thickbox) effect</a>. Not so much for the <a href="http://www.37signals.com/svn/posts/592-been-lightboxed-lately">strobing visuals</a>, but more because it is nothing but an irrelevant technique dragged over from the desktop world to the web - just for the sake of familiarity.</p>

<div id="shcp_10954" class="sharedcopy_widget"><blockquote cite="http://r2.sharedcopy.com/6e62cu1l" class="cited" style="border-style: solid; border-color: rgb(255, 255, 255) rgb(255, 255, 255) rgb(255, 255, 255) rgb(238, 238, 238); border-width: 1px 1px 1px 1em; padding: 0pt 0pt 1em 1em; background: rgb(255, 255, 255) none repeat scroll 0% 50%; cursor: pointer; margin-left: 0pt; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;"> <p><span class="content comments_count_2 withoutphoto"><span class="text"><div class="html_gist none"><input type="hidden" value="body.mediawiki.ns-0.ltr.page-Dialog_box div#globalWrapper div#column-content div#content div#bodyContent div.thumb.tright div.thumbinner a.image img.thumbimage.shcp_dimension_300x122" class="csspath" /></div> <blockquote class="comment_body comment_body1" style="border: 0px none ; font-style: italic;"><p>Modal dialog boxes are those which temporarily halt the program in the sense that the user cannot continue until the dialog has been closed<a href="http://r2.sharedcopy.com/6e62cu1l#shcp0"> <sup>link »</sup></a></p></blockquote> <blockquote class="comment_body comment_body2" style="border: 0px none ; font-style: italic;"><p>Modal dialogs are generally regarded as bad design solutions by usability practitioners, since they are prone to produce mode errors .<a href="http://r2.sharedcopy.com/6e62cu1l#shcp1"> <sup>link »</sup></a></p></blockquote> </span></span> - from <a href="http://r2.sharedcopy.com/6e62cu1l">Dialog box - Wikipedia, the free encyclopedia</a> via <a href="http://sharedcopy.com">sharedcopy.com</a></p></blockquote></div>

<p><script>  var json_10954 = {   host: 'sharedcopy.com',   width: '480px',   height: '250px',   bgcolor: '#ffffff',   background: '#ffffff url(http://en.wikipedia.org.sharedcopy.com/images/loading.gif) no-repeat center center; ',   allow_click: false,   src: 'http://en.wikipedia.org.sharedcopy.com/embeds/copy/choonkeat/ce3099e0d4c6f37ba4ba2f03c16c2f3b/480.250/ffffff.ffffff.cc0500/false/shcp0.html' };</script><script src="http://sharedcopy.com/static/embed/script.js"></script>

</p>

<p>The web is free flowing and has <a href="http://twitter.com/choonkeat/statuses/103816122">no vertical</a> <a href="http://blog.clicktale.com/2006/12/23/unfolding-the-fold/">constraint</a>. And it&#8217;s good that way! <br /><br />My personal preference as a developer is to use div-expansion/collapse <strong>everywhere</strong> possible, until I can&#8217;t. By introducing new content in-place, and reflowing the rest of the document, a user is not required to take action just to back out. If he choose to proceed, he can interact with the new content (usually a form), or simply continue browsing, scrolling down or click elsewhere.</p>

<p>Even if situation calls for a lightbox-ish design, it isn&#8217;t too much to ask for [as much of the] surrounding content to be pushed aside whilst showing a thickbox at the centre of the screen. You get to reduce overlap &amp; maintain document flow at the same time. <br /><br />Try it, click on the Wikipedia quote above. Though the right columns of this blog is obscured by virtue of their floats, the content of this entry will remain in full view. </p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/04/go-away-or-i-wi.html">
			
				&quot;Go away or I will replace you with a very small shell script&quot; v2</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-04-18T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>&nbsp;</p>

<div id="shcp_3ce0896e99a26818fefc8fb382995920"><blockquote style="border-left: 1em solid rgb(238, 238, 238); margin-left: 0pt; padding-left: 1em;"> <p><span class="content comments_count_2 withoutphoto"><span class="text"><div class="html_gist _"><input type="hidden" class="csspath" value="body div#width div#main div#trunk.threeCol div#content.clear div#col1 div.post p object" /><object width="425" height="355"><param name="movie" value="http://www.youtube.com/v/SkS5PkHQphY&amp;hl=en" /><param name="wmode" value="transparent" /><embed width="425" height="355" src="http://www.youtube.com/v/SkS5PkHQphY&amp;hl=en" type="application/x-shockwave-flash" wmode="transparent"></embed><div style="font-family: verdana; font-style: normal; font-variant: normal; font-weight: normal;  line-height: normal; font-size-adjust: none; font-stretch: normal;"><div style="color: rgb(102, 102, 102); text-align: left;">Credit: Philip M. Parker</div> Parker shows a book being created. </div></object></div> <blockquote class="comment_body comment_body1"><p>Using a little bit of artificial intelligence, a computer program has been created that mimics the thought process of someone who would be responsible for doing such a study<a href="http://r7.sharedcopy.com/1ss24mt6#shcp0"> <sup>link »</sup></a></p></blockquote> <blockquote class="comment_body comment_body2"><p>It will then open a Word document and export the information into Word, just like a real author would out of their minds, so to speak, or spreadsheets<a href="http://r7.sharedcopy.com/1ss24mt6#shcp1"> <sup>link »</sup></a></p></blockquote> </span></span>&nbsp; <span class="content comments_count_0 withoutphoto"><span class="text"><div class="html_gist _"><input type="hidden" class="csspath" value="body div#width div#main div#trunk.threeCol div#content.clear div#col1 div.post p object" /></div></span></span> - from <a href="http://r7.sharedcopy.com/1ss24mt6">He wrote 200,000 books (but computers did some of the work) | Tech News on ZDNet</a> via <a href="http://sharedcopy.com">sharedcopy.com</a></p></blockquote></div><style>#shcp_3ce0896e99a26818fefc8fb382995920 blockquote blockquote { margin-left: 1.5em;  font-style: italic; }; #shcp_3ce0896e99a26818fefc8fb382995920 .html_gist { display: none; }</style><p><script>  var json_3ce0896e99a26818fefc8fb382995920 = {   host: 'sharedcopy.com',   width: '510px',   height: '550px',   bgcolor: '#ffffff',   background: '#ffffff url(http://news.zdnet.com.sharedcopy.com/images/loading.gif) no-repeat center center; ',   allow_click: true,   src: 'http://news.zdnet.com.sharedcopy.com/embeds/copy/choonkeat/3ce0896e99a26818fefc8fb382995920/510.550/ffffff.ffffff.cc0500/true/shcp0.html' };</script><script src="http://sharedcopy.com/static/embed/script.js"></script>


</p>

<p>Reminds me of <a href="http://www.thinkgeek.com/tshirts/frustrations/374d/">this t-shirt</a>.</p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/04/poor-mans-trend.html">
			
				Poor Man&#39;s Trends</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-04-16T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>I&#8217;ve just released my <a href="http://github.com/choonkeat/poormans-trends/tree/master">Poorman&#8217;s Trends</a> Rails plugin as an excuse to do something with my GitHub account. Much like its distant cousin, <a href="http://blog.choonkeat.com/weblog/2004/12/poor-mans-crm.html">Poor Man&#8217;s CRM</a>, this software aims to be plug-and-play, self-sufficient and useful enough to make sense of existing data. </p>

<p>3 Steps to get it:</p>

<ol><li>Install into vendor/plugins with <br /><code>./script/plugin install git://github.com/choonkeat/poormans-trends.git</code></li>

<li>Add 1 line into your existing controller, e.g. <code>admin_controller.rb</code><br /><code>include Poormans::Trends</code></li>

<li>Point your browser to <code>http://yourserver/<strong>admin/poormans_trends</strong></code> and Viola!</li></ol>

<p>You should see a simple page greeting you, like in this screenshot:</p>

<p>
<a href="http://www.flickr.com/photos/choonkeat/2417672499/" title="Poorman's Trends Homepage by choonkeat, on Flickr"><img width="500" height="245" border="0" src="http://farm3.static.flickr.com/2342/2417672499_920e605a2e.jpg" alt="Poorman's Trends Homepage" /></a>

</p>

<p>Pick a Model class, and you should see some pretty graphs making their AJAXy entrance:</p> 
<p>
<a href="http://www.flickr.com/photos/choonkeat/2417672369/" title="Poorman's Trends Example3 by choonkeat, on Flickr"><img width="500" height="266" border="0" src="http://farm4.static.flickr.com/3162/2417672369_6e8bfc3f7b.jpg" alt="Poorman's Trends Example3" /></a><br />

<a href="http://www.flickr.com/photos/choonkeat/2418488312/" title="Poorman's Trends Example1 by choonkeat, on Flickr"><img width="500" height="246" border="0" src="http://farm3.static.flickr.com/2057/2418488312_c5d2a27c42.jpg" alt="Poorman's Trends Example1" /></a></p>

<p>What&#8217;s happening is that a few interesting columns are picked up from
the Model&#8217;s table and a few popular values are picked up from those
columns. A count is done for all of them, divided up by weeks and
spitted out as HTML tables. These tables are then turned into pretty
charts using the nice <em>HTML-table-to-canvas</em> javascript library <a href="http://www.filamentgroup.com/lab/creating_accessible_charts_using_canvas_and_jquery/">from Filament Group</a>.<br />
</p>

<p>Without configuration nor knowledge of what your application does, is there any hope that it can make sense? </p>

<p>That&#8217;s where the &quot;picking of interesting columns&quot; come in. Assuming zero domain knowledge of your application, I&#8217;d say the foreign keys are most interesting (in Rails convention, any column ending with &quot;_id&quot;), together with sub-classes (&quot;type&quot; and any columns ending with &quot;_type&quot;). The time aspect relies on the Rails convention of using &quot;created_at&quot;. </p>

<p>The end result actually looks pretty good for something requiring no configuration! :-)<br /></p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/04/ruby-on-rails-.html">
			
				Ruby on Rails - Sharing Session for Singapore PHP User Group</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-04-10T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>Here are my slides to yesterday&#8217;s talk. Thanks to all who attended, and <a href="http://www.php.com.sg/">Michael Cheng and gang</a> for organizing it! I tried to make it more constructive instead of anything <em>X vs Y</em> </p>

<div id="__ss_344429" style="width: 425px; text-align: left;"><object width="425" height="355" style="margin: 0px;"><param name="movie" value="http://static.slideshare.net/swf/ssplayer2.swf?doc=phprails-1207761675206726-8" /><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><embed width="425" height="355" src="http://static.slideshare.net/swf/ssplayer2.swf?doc=phprails-1207761675206726-8" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true"></embed></object><div style=" font-family: tahoma,arial; height: 26px; padding-top: 2px;"><a href="http://www.slideshare.net/?src=embed"><img src="http://static.slideshare.net/swf/logo_embd.png" alt="SlideShare" style="border: 0px none ; margin-bottom: -5px;" /></a> | <a href="http://www.slideshare.net/choonkeat/ruby-on-rails-sharing-session-for-singapore-php-user-group?src=embed" title="View 'Ruby on Rails - Sharing Session for Singapore PHP User Group' on SlideShare">View</a> | <a href="http://www.slideshare.net/upload?src=embed">Upload your own</a></div></div>



		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2008/03/no-template-is.html">
			
				No Template is the Best Template</a>
		</h2>
		<div class="meta date">








  


<time datetime="2008-03-26T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p style="font-style: italic">Update 28 Sept 2008: checkout the working code at <a href="http://github.com/choonkeat/hquery/tree/master">github repository</a>, and a short <a href="http://www.vimeo.com/1836815">video demo on vimeo</a>.</p>

<p>I&#8217;ve been swimming in jQuery-bliss for a few months now - thanks <a href="http://nimbupani.com/">Divya</a> &amp; <a href="http://free-and-happy.blogspot.com/">Tien Dung</a> for introducing me to it! I&#8217;m yearning to <a href="http://ejohn.org/blog/bringing-the-browser-to-the-server/">do it on the server-side</a>.</p>

<p>But to enjoy the jQuery-bliss (aka &#8221;<a href="http://blog.choonkeat.com/weblog/2007/11/the-unspecial-c.html">no special case pattern</a>&#8221;), I&#8217;d need to be in a problem where I have a document to sculpt. My recent toys (<a href="http://dev.choonkeat.com/js/cleartz/index#,Singapore,San_Francisco_CA,Berlin">cleartz</a> and <a href="http://dev.choonkeat.com/js/lang/index">tryanslator</a>.. and actually most Javascript apps?) for example, are built the via sculpting way: a very basic HTML structure, then Javascript comes in to flesh out its form and introduce function. A very pleasant development experience overall. </p>

<p><em>Aside: Back in Java days, I remember I used to hate XML DOM parsing a
lot. <code>NodeList</code>? <code>hasChildNodes</code>? But XPath came and suddenly pain became pleasure.</em><br>

</p>

<p>On the server-side, Model (of MVC) stuff seems to fit (maybe <code>sqlQuery( "people[gender='Male']" ).update({ salutation: "mister" })</code> ?) but ActiveRecord (&amp; <a href="http://errtheblog.com/posts/63-full-of-ambition">Ambition</a>?) is already nice to work with, and I have no major problems there. </p>

<p>My gripe is with the View (and consequently the Controller). Views are generally powered by some templating system. These gnarly things are just a pile of bastardized HTML files good for neither designers nor developers. The best templating systems are only best because you&#8217;ll choke yourself slower by using them. Anyways, pretend you agree that templates == bad.</p>

<p>Wouldn&#8217;t it be nice if your web framework 1) loads up pure HTML as a document object, 2) you modify them in the jQuery-bliss way in your Controller, then finally 3) the resulting HTML is spit back to the client browser? </p>

<p>No nasty &lt;? %&gt; } or custom syntax for dynamic content, or loops, or if-else. Just pure HTML with dummy data baked in. </p><blockquote><pre># display_user.html<br>&lt;span class="tel"&gt;<br> &lt;span class="type"&gt;home&lt;/span&gt;:<br> &lt;span class="value"&gt;+1.415.555.1212&lt;/span&gt;<br>&lt;/span&gt;</pre></blockquote><p>Then modify them before serving:</p><blockquote><pre><pre><pre><pre><span style="color: #0000ff;"># inside controller</span><br><span style="color: #a52a2a;"><span class="keyword" style="font-weight: bold;">def </span></span><span style="color: #008b8b;">display_user</span><span style="color: #6a5acd;">(</span><span style="color: #000000;">doc</span><span style="color: #6a5acd;">)</span><br>&nbsp; <span style="color: #000000;">user</span> <span style="color: #6a5acd;">=</span> <span style="color: #008b8b;">User</span><span style="color: #6a5acd;">.</span><span style="color: #000000;">find</span><span style="color: #6a5acd;">(</span> <span style="color: #000000;">params</span><span style="color: #6a5acd;">[</span><span style="color: #008b8b;">:user_id</span><span style="color: #6a5acd;">]</span> <span style="color: #6a5acd;">)</span><span style="color: #6a5acd;">&nbsp;</span><br>&nbsp; <span style="color: #6a5acd;">(</span><span style="color: #000000;">doc</span><span style="color: #6a5acd;">/"</span><span style="color: #dd00dd;">.tel .value</span><span style="color: #6a5acd;">").</span><span style="color: #000000;">inner_html</span> <span style="color: #6a5acd;">=</span> <span style="color: #000000;">user</span><span style="color: #6a5acd;">.</span><span style="color: #000000;">phone_number</span><br>&nbsp; <span style="color: #a52a2a;"><span class="keyword" style="font-weight: bold;">return</span></span><span style="color: #000000;"> doc</span><span style="color: #6a5acd;">.</span><span style="color: #000000;">to_html</span><br><span style="color: #a52a2a;"><span class="keyword" style="font-weight: bold;">end</span></span><span class="keyword">&nbsp;</span></pre></pre></pre></pre></blockquote><p>And because it is an in-memory tree instead of some opaque String, you can do everything programatically <em>around</em> the document: looping, if-else, removing nodes, replacing sub menus, partials? Furthermore, when you need to do dynamic behaviors on the client-side, the programming paradigm is exactly the same!</p>

<p>Designers can be happy churning out the HTML/CSS in whatever tool they like (be it Dreamweaver or notepad.exe), and developers just poke their DOM. </p>

<p>What say you?</p>

<p><em>PS: Oh well, I guess what I&#8217;m trying to say is maybe we should not waste time finding better ways of constructing webpages (i.e. templating systems) when we could approach the problem as &#8220;modifying a document&#8221; - which is much cleaner and (with the <a href="http://blog.choonkeat.com/weblog/2007/11/the-unspecial-c.html">right API</a>) much easier.</em></p>


		
		
	</div>

</article>


    <nav id="pagenavi">
        
            <a href="/weblog/page/2/" class="prev">Previous</a>
        
        
            <a href="/weblog/page/4/" class="next">Next</a>
        
    </nav>

</div>
	<footer id="footer" class="inner">&copy; 2016

    choonkeat

</footer>
	<script src="/javascripts/slash.js"></script>
<!-- <script src="/javascripts/hyphenator.js"></script> -->


<script type="text/javascript">
      var disqus_shortname = 'choonkeat';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-1438738-3']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




</body>
</html>
