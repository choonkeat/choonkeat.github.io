
<!DOCTYPE HTML>
<html lang="en-GB">
<head>
	<meta charset="utf-8">
	<title>choonkeat on programming & software  | The Devel!</title>

	<meta name="author" content="choonkeat">

<meta name="description" content="
		Bitten by a 32-bit bug today when my colleague decided to have 3006 as his end-date in the database&#8230;. BOOM.

Apparently, the upper limit i..."> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="http://feeds.feedburner.com/choonkeat" rel="alternate" title="The Devel!" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href="/stylesheets/application.css" media="screen, projection" rel="stylesheet" type="text/css">
<script src="/javascripts/application.js"></script>

</head>



<body>
	<header id="header" class="inner"><h1><a href="/">The Devel!</a></h1>
<span class="tagline">choonkeat on programming & software</span>
<nav id="main-nav"><ul>
	<li><a href="/weblog/chew-choon-keat.html">About</a></li>
	<li><a href="/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/weblog/chew-choon-keat.html">About</a></li>
	<li><a href="/archives">Archives</a></li>
</ul>
</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/07/every-few-years.html">
			
				Every few years, some shit must happen</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-07-08T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>Bitten by a 32-bit bug today when my colleague decided to have 3006 as his end-date in the database&#8230;. BOOM.</p>

<p>Apparently, the upper limit is closer than a thousand years. Its <a href="http://en.wikipedia.org/wiki/Year_2038_problem">2038</a> to be exact. Damn. That&#8217;s within a lifetime.</p>
<iframe src='http://groups.google.com.sharedcopy.com/embeds/copy/choonkeat/5bceff739f0c5f7d8c51cef213488560/480.250/e3f0f6.fff.cc0500/shcp1.html' class='sharedcopy_embed' style='width: 480px; height: 250px; border: 0px; padding: 0px; margin 0px; background: #fff url(http://groups.google.com.sharedcopy.com/images/loading.gif) no-repeat center center; ' frameborder='0' scrolling='no'></iframe><noframes>Your browser does not support frames, but you can still read the <a href='http://r0.sharedcopy.com/2rprvn7'>sharedcopy content here</a>.</noframes>
<p>Cold cold warning. Monkey-patched a few classes and the situation seem under control. We&#8217;ll see. </p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/07/singapore-ruby-.html">
			
				Singapore Ruby Brigade</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-07-02T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>If you&#8217;re interested in Ruby and hang out around in this <a href="http://maps.google.com/maps?f=q&amp;hl=en&amp;q=singapore&amp;ie=UTF8&amp;ll=1.352566,103.850327&amp;spn=0.256047,0.637894&amp;t=k&amp;om=1">tiny red dot</a>, then you might be interested to join the <a href="http://groups.google.com/group/singapore-rb">singapore.rb</a>. Its a young group, so be gentle :-D</p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/07/are-you-an-elep.html">
			
				Are you an elephant in a circus too?</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-07-01T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>Years ago I suffered from insomnia and quite often I&#8217;d watch TV Media (commercials) just to pass my time. Not all of them feature excited housewifes holding detergents as you&#8217;d think. There was this particular commercial (selling motivation tapes) that was quite memorable: </p><p>It narrates a story of a boy who saw that the big circus elephant tied to a pole by only a thin rope. &quot;Surely, the elephant could just break its bondage and run away free! Why didn&#8217;t she?&quot; the boy asks. The father replied, &quot;You see, when the elephant was little they&#8217;d tie her up in huge chains instead of this rope. The baby elephant would try with all her might to escape but in vain. Years of trying (and failing) has etched a strong message into her head: <em>I&#8217;m tied here. I can&#8217;t get away</em>. So now, the circus only has to use a thin rope. She won&#8217;t be trying to go anywhere.&quot;</p><p>I&#8217;m reminded of this story just last night, after realising that I&#8217;m like the elephant in the circus. <br /><br /><font color="#cc3333">Warning</font>: This is not a shining example of <em>best practices</em>! Do not meddle with production systems in situ! ?”?”æœ‰ç»ƒè¿‡çš„!<br /><br />Problem: I have a command line script doing some processing in a running system, but I wish to experiment a new little feature without impacting the existing system. What are my options?<br /><br />Normally I might prepare another copy of the same system (i.e. staging area), make code modifications and try running the new feature in the staging environment. Once things looks ok, I&#8217;ll patch the running system with the new code, and hence roll out the changes. In systems where the setup involves a few external systems, setting up a staging area can be a pain.<br /></p><p>I was too tired and lazy to prepare a staging area last night. Then, it occurred to me (ok, i&#8217;m slow) that with Ruby, I have <a href="http://onestepback.org/articles/10things/page024.html">open classes</a> - something I that do not have in my previous life! I&#8217;ve already been bathing in <a href="http://onestepback.org/articles/depinj/classesareopen.html">the goodness of open classes</a> while developing Rails apps - when I use the test and plugin framework, etc - but I was still dutifully going through the staging environments way.</p><p>So I made a copy of the script (the main logic is in the other parts of the system, this script is merely the entry point to kick off the whole process). And in this new script, I added code that redefines the behavior of a class in the system:</p><pre><em><font color="#9a1900"># import libraries above</font></em><br /><br /><strong><font color="#0000ff">class</font></strong> FeedTodo<br />  <strong><font color="#0000ff">def</font></strong> <strong><font color="#000000">deliver_emails</font></strong><font color="#990000">(</font>emails<font color="#990000">,</font> forced<font color="#990000">=</font><strong><font color="#0000ff">false</font></strong><font color="#990000">)</font><br />    <strong><font color="#000000">save_to_disk</font></strong><font color="#990000">(</font>emails<font color="#990000">)</font> <em><font color="#9a1900"># instead of sending the mails directly.</font></em><br />  <strong><font color="#0000ff">end</font></strong><br /><strong><font color="#0000ff">end</font></strong><br /><br /><em><font color="#9a1900"># actual execution below</font></em> </pre><p>When executing from this particular script, FeedTodo objects would no longer be delivering emails directly because I&#8217;ve redefined them to save onto the disk instead. The other parts of the system would happily continue to call FeedTodo#deliver_emails() as usual, invoking the new routine unsuspectingly. Also, the existing system which doesn&#8217;t use this new script would not have this modification in their runtime - hence, no impact to production system!<br /><br />In my past life, I would have to change the actual code for FeedTodo class and risk breaking the production system. Blasphemy! Occasionally, when I do, I&#8217;d even take pride that I can make such in situ changes backward compatible - feels like Indiana Jones swapping the weighted stone&#8230; </p><p>I&#8217;ve realised I&#8217;m not chained like I thought I was. I don&#8217;t think I&#8217;ll ever need to take such stone age risks anymore.<br /></p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/06/sorry-u-zyn.html">
			
				Sorry U-Zyn</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-06-30T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p> <p>Sorry <a href="http://uzyn.com/2006/06/28/my-15-mins/">U-Zyn</a>, but after trying out the feeds, I&#8217;ve unsubscribed. Nothing wrong with them, no hard feelings, but I&#8217;d just like to mention why: </p> <blockquote>The links don&#8217;t bring me to the original article.</blockquote><p>I know its probably (haven&#8217;t tried) not your fault because the lousy data from todayonline doesn&#8217;t contain the URL in the first place. And I can also hear &quot;<span style="font-style: italic">since the full content is there already, why need a link to the content?</span>&quot;. </p><p>I guess I&#8217;m just one of the wierder 0.1% out of the 4% of people who is RSS-aware. But over time, I&#8217;ve tuned my reading process to what helps keep me sane, tracking the few hundred feeds that I&#8217;m subscribed to: </p><ol> <li>Skims RSS articles from oldest to latest (to have context)</li> <li>Interesting articles gets ctrl-clicked (Firefox opens them in a background tab)</li> <li>Repeat #1 and #2 until the tabs looks too uncomfortable squeezing next to each other</li> <li>Start reading the tabs and closing them as I go</li> <li>Repeat from #1.</li> </ol><p><br /> So, if step #2 doesn&#8217;t happen its a no go for me.</p><p>Hmm, probably you could publish those articles on your own server with their own URL. But then again, there&#8217;s this copyright thing.<br /></p></p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/06/railsconf-2006-.html">
			
				RailsConf 2006 End Note</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-06-28T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>Delayed telecast. I was too busy heading out to catch a glimpse of Chicago on whatever-is-left-of-Sunday (yea, bad day to do tourist stuff). And delayed further when the hotel firewall decided to shut me out suddenly. Anyways!</p><p>Overall, I had a wonderful time at RailsConf, albeit <a href="http://flickr.com/photos/mintchaos/174357302/">being shamed</a> for not carrying an Apple laptop. It was hillarious! And I was definitely much more tickled than I looked :-D The only saving grace was that I ran Ubuntu (thanks Sukanta!). The certificate can be viewed in detail <a href="http://flickr.com/photos/mintchaos/176092722/">here</a>. Man.. 550 attendees and <a href="http://flickr.com/photos/tags/railsconfnonconformity/ ">only 50 non-conformists</a>. Go do your own math!!<br /></p><p>Rails is still very much in the early adopter&#8217;s phase and it showed. The show wasn&#8217;t spoiled by vendors (ulterior motives) selling their solutions and presence of unwilling folks (attending only because they were arrowed to). RailsConf had lots of heart. The atmosphere there feels just like how it would&#8217;ve felt when a couple hundred grateful people turns up to pay tribute to a gift that has made marked changes to their lives. Most of the fulltime Rails developers I spoke to are entrepreneurs happily doing their own gig. The rest were researchers and programmers in less ideal environments  who came to hear the good word.<br /><br /><a href="http://mongrel.rubyforge.org/">Mongrel</a> (creator <a href="http://flickr.com/photos/spiffariffic/128255918/">Zed Shaw</a> was there!) was one of the biggest winner in the conference, earning lots of praises from speakers - and deservedly so! And its only been 3-4 months?! I&#8217;d say though, no matter how hard Rails deployment was painted out to be, at least its consistent - the same Rails app can be deployed very much as-is in all various setups - which I prefer over Java app-server&#8217;s specific configurations (that&#8217;s fault on vendors, not Java itself)<br /> </p><p>Fixtures, on the other hand got slapped - which makes me feel less guilty now. I&#8217;d always thought there&#8217;s something wrong with me.<br /><br />I was pretty shocked to be id by <a href="http://codefluency.com/">Bruce Williams</a> (author of the very practical <a href="http://codefluency.com/rails-views/">rails views series</a>) for <a href="../../articles/2006/06/12/krjs-rjs-without-messing-the-views">KRJS</a>. An encounter that rendered (pun) me speechless. Now I just hope he&#8217;ll have nice words for it if he does give it a try.<br /><br />One guy I&#8217;d wanted to thank though, but didn&#8217;t recognize the few times I saw him: Derek Sivers of CDBaby. It was his &#8217;<a href="http://www.oreillynet.com/onlamp/blog/2004/08/award_for_beautiful_coding_dav.html">beautiful programmer</a>&#8217; post that linked me to Rails. Blogs are such a wonderful resource huh?<br /><br />The funniest, and painfully real question asked to the Rails core team was: &quot;<em>My girlfriend asked if David has a girlfriend? And should I be worried?</em>&quot; Ahhhhhhhh&#8230;&nbsp; (The answer was &quot;yes&quot; and &quot;no&quot; respectively)<br /></p><p>The &#8216;lightning talks&#8217; proved to be very interesting. Individuals signed up on the spot to do impromptu 5-minute demos of whatever they want. Saw a whole bunch, but most importantly I saw an impressive demo on using RadRails - its what the official RadRails talk should&#8217;ve been! The RadRails team had chosen to talk abt IDE generically instead of boring the audience by going through its features. Lesson #1: don&#8217;t assume your user know your tool.<br /></p><p>Btw.. is it just me, or does <a href="http://flickr.com/photos/mintchaos/174356973/">Why The Lucky Stiff</a> look like <a href="http://www.imdb.com/name/nm0085312/">Jack Black</a> (with a dash of <a href="http://www.imdb.com/name/nm0005110/">Aston Kutcher</a>)? Or maybe I was just seeded with his image, having to watch King Kong 3 times on the plane.</p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/06/krjs-explained.html">
			
				KRJS Explained</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-06-25T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>Regarding KRJS, I&#8217;ve been asked &quot;Hmm.. so you moved the javascript to the controller&#8230; what&#8217;s the benefit?&quot;. I&#8217;ll try to briefly illustrate the benefits here with some Rails/RJS code - <strong>the codes in this example are broken, bugs or simply wrong</strong> but that&#8217;s not the point - hopefully you&#8217;ll get the drift.<br /><br /><span style="font-weight: bold">The Problem:</span> Given a textfield and a blank div in Rails, let&#8217;s do a <a target="_blank" onclick="return top.js.OpenExtLink(window,event,this)" href="http://www.google.com/webhp?complete=1"><span style="font-style: italic">google suggest-ish</span> </a> feature<br /><span style="font-family: courier new,monospace">&lt;%= text_field_tag &#8217;<span style="font-weight: bold">query</span>&#8217; %&gt;</span><br /><span style="font-family: courier new,monospace"> &lt;div id=&quot;<span style="font-weight: bold">placeholder</span>&quot;&gt;&lt;/div&gt;</span><br /><br /><font size="3"><strong>Method #1</strong></font><br />1. observe your textfield with javascript:<br /><span style="font-family: courier new,monospace"> &lt;script&gt;</span><br /><span style="font-family: courier new,monospace">&nbsp; // every 3 seconds, check changes typed into textfield</span><br /> <span style="font-family: courier new,monospace">&nbsp; my_observer(&#8216;query&#8217;, 3, &#8216;my_call_to_server&#8217;);</span><br /><br /><span style="font-family: courier new,monospace"> &nbsp; // when called, sends server a request and updates HTML with</span><br /><span style="font-family: courier new,monospace">&nbsp; // response data</span><br /> <span style="font-family: courier new,monospace">&nbsp; function my_call_to_server(query) {</span><br /><span style="font-family: courier new,monospace">&nbsp;&nbsp;&nbsp; data = Ajax.get(&quot;http://host:port/my_script?query=&quot; + query);</span><br /><span style="font-family: courier new,monospace">&nbsp;&nbsp;&nbsp; getElementById(&#8216;placeholder&#8217;).innerHtml = data;</span><br /> <span style="font-family: courier new,monospace">&nbsp; }</span><br /><span style="font-family: courier new,monospace">&lt;/script&gt;</span><br /> <br />But let&#8217;s be fair, with Rails can cut it down and even get cross-browser compatibility:<br /><span style="font-family: courier new,monospace">&lt;%=</span><br /><span style="font-family: courier new,monospace"> observe_field(&#8217;<span style="font-weight: bold">query</span>&#8217;,</span><br /><span style="font-family: courier new,monospace">&nbsp; { :url =&gt; { :action =&gt; &#8217;<span style="font-weight: bold"> my_script</span>&#8217;}, </span><br /><span style="font-family: courier new,monospace">&nbsp; :frequency =&gt; <span style="font-weight: bold">3</span>,</span><br /> <span style="font-family: courier new,monospace">&nbsp; :with =&gt;&#8217;<span style="font-weight: bold">query</span>&#8217;,</span><br /><span style="font-family: courier new,monospace">&nbsp; :update =&gt; &#8217; <span style="font-weight: bold">placeholder</span>&#8217;)</span><br /><span style="font-family: courier new,monospace">%&gt;</span><br /><br />2. Next, handle the Ajax.get on server and spits out HTML. <br /><span style="font-family: courier new,monospace">def my_script</span><br /><span style="font-family: courier new,monospace">&nbsp; search_results&nbsp; = search_for(params[&#8216;query&#8217;])</span> <br /><span style="font-family: courier new,monospace">&nbsp; render text: =&gt; search_results.to_html</span><br /><span style="font-family: courier new,monospace"> end</span><br /><br />Notice the bold portions, these will come back to haunt you when you have many ajax pages - because you&#8217;re forced to tie up the whole logic (observe &#8217;<span style="font-weight: bold">query</span>&#8217; every  <span style="font-weight: bold">3</span> seconds, send to server &#8217;<span style="font-weight: bold">my_script</span>&#8217;, update &#8217;<span style="font-weight: bold">placeholder</span>&#8217;) all inside the HTML template. Dang! These will haunt you when you need to change or add logic (I&#8217;m sure you&#8217;ve experienced it before) <br /><br /><font size="3"><strong>Method #2</strong></font><br />1. Again, observe your textfield (notice the omitted <span style="font-family: courier new,monospace">:update</span> option)<br /><span style="font-family: courier new,monospace"> &lt;%=</span><br /><span style="font-family: courier new,monospace">observe_field(&#8217;</span><span style="font-weight: bold; font-family: courier new,monospace">query</span><span style="font-family: courier new,monospace"> &#8216;,</span><br /><span style="font-family: courier new,monospace">&nbsp; { :url =&gt; { :action =&gt; &#8217;</span><span style="font-weight: bold; font-family: courier new,monospace">my_script </span><span style="font-family: courier new,monospace">&#8217;}, </span><br /><span style="font-family: courier new,monospace">&nbsp; :frequency =&gt; </span><span style="font-weight: bold; font-family: courier new,monospace"> 3</span><span style="font-family: courier new,monospace">,</span><br /><span style="font-family: courier new,monospace">&nbsp; :with =&gt;&#8217;</span><span style="font-weight: bold; font-family: courier new,monospace"> query</span><span style="font-family: courier new,monospace">&#8217;)</span><br /><span style="font-family: courier new,monospace">%&gt;</span><br /><br />2. Handle the Ajax.get on server and use RJS to spit out JS (calling page will execute): <br /><span style="font-family: courier new,monospace">def my_script</span><br /><span style="font-family: courier new,monospace">&nbsp; search_results&nbsp; = search_for(params[&#8216;query&#8217;])</span> <br /><span style="font-family: courier new,monospace">&nbsp; render update do |page|</span><br /><span style="font-family: courier new,monospace"> &nbsp;&nbsp;&nbsp; page.replace_html :placeholder, search_results.to_html</span><br /><span style="font-family: courier new,monospace"><br /><span style="font-style: italic">&nbsp;&nbsp;&nbsp; # 2 new whiz-bang features! </span></span><br /><span style="font-family: courier new,monospace; font-style: italic">&nbsp;&nbsp;&nbsp; page.replace_html :title, &quot;Suggestions for #{params[&#8216;query&#8217;]}&quot; </span><br /><span style="font-family: courier new,monospace; font-style: italic">&nbsp;&nbsp;&nbsp; </span><span style="font-family: courier new,monospace; font-style: italic"> </span><span style="font-family: courier new,monospace; font-style: italic">page.hide :advertisement_div </span><span style="font-family: courier new,monospace; font-style: italic">if <br /><span style="font-style: italic"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>User.find(@session[:user_id]).name == &#8216;George&#8217;</span><span style="font-family: courier new,monospace; font-style: italic"><br /></span><span style="font-family: courier new,monospace"> &nbsp; end</span><br /><span style="font-family: courier new,monospace">end</span><br /><br />Notice lesser amount of bold portions in the template? No more hard coding to update &#8216;placeholder&#8217;, we&#8217;re saying it only at the server side. In fact, its so easy to add more / change JS events with RJS, that I had easily added 2 extra features without any the template changes! To introduce / change features in method #1, you would have to modify the html template. <br /><br />Now, notice that last extra feature&#8230; It roughly means &quot;<span style="font-style: italic">Find current user in database, if the name is George, send an extra javascript event to hide the advertisement div</span> &quot;. Imagine the code you have to juggle if we&#8217;re doing this on client side (method #1)!!<br /><br /><font size="3"><strong>Method #3</strong></font><br />NOW.. Let&#8217;s have fun with KRJS<br />1. <br />2. Handle the Ajax.get on server and use RJS to spit out JS (calling page will execute): <br /><span style="font-family: courier new,monospace">def <span style="font-weight: bold">on_query_change_3</span></span><br /><span style="font-family: courier new,monospace">&nbsp;  </span><span style="font-family: courier new,monospace"># same code as method #2&#8230;</span><br /><span style="font-family: courier new,monospace"> end</span><br /><br /><span style="font-style: italic">Hey! There&#8217;s no Step 1(tm)</span>. And step 2 is identical to method #2 (all benefits of RJS) except that our function has a specific naming convention. Absolutely no need to touch your template at all! The necessary javascripts in the HTML are inserted automatically when the template is rendered. <br /><br />Let&#8217;s say we decide to change the JS event to <span style="font-family: courier new,monospace">onblur</span> instead of observing every 3 seconds&#8230; come, think what has to be done if we&#8217;re using method #1 or #2? Ready? Change 1 file? 2 files? remove observe_field method, and replace with onblur event?&#8230; <br /><br />In KRJS, you simply rename your controller handler:<br /><span style="font-family: courier new,monospace">def <span style="font-weight: bold">on_query_blur</span></span><br /> <span style="font-family: courier new,monospace">&nbsp; </span><span style="font-family: courier new,monospace"># same code as method #2&#8230;</span><br /> <span style="font-family: courier new,monospace">end</span></p><p>Now, its not really performant right now&#8230; the time-savings is mostly conceptual as well as on the development time. The exact implementation could be evolved, no issue:</p><ul><li>detect external on_xxx.rjs files instead of clogging the controller with on_xxx methods&nbsp;</li><li>different behavior when in production mode</li><li>rake task to compile for production (faster to render)</li></ul><p>With KRJS, I can see lots of code-cutting with the many <a href="http://weblog.rubyonrails.org/2006/6/13/new-from-oreilly-rjs-templates-for-rails">RJS examples</a> out there. <a href="http://choonkeat.svnrepository.com/svn/rails-plugins/krjs/">Patches are welcome</a>.&nbsp;</p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/06/crud-crud-crud-.html">
			
				&quot;CRUD! CRUD! CRUD!&quot;: DHH</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-06-25T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>Well, ok he didn&#8217;t exactly do a Steve-Balmer-jumping-around-the-stage thing. But what he was driving at this evening&#8217;s keynote is extremely liberating: </p> <p><em>What if every controller does only* CRUD  (create, read, update, destroy)?</em></p> <p>(Note: DHH understands that only CRUD is just an ideal and its perfectly necessary to drop out of that when needed. Much like how ActiveRecord optimises to support its ideal, yet allows find_by_sql) </p> <p>CRUD is simple and well understood. It is even the only 4 operations baked into the SQL to manipulating data - INSERT, SELECT, UPDATE, DELETE. So if 80% of the web apps are simply database-backed web applications, asking controllers to just revolve around CRUD isn&#8217;t that demanding is it? <a href="http://www.loudthinking.com/arc/000572.html">Using HTTP GET, POST, PUT and DELETE.</a> Instead of, </p> <pre>POST /people/destroy/1 </pre> <p>it now becomes, </p> <pre>DELETE /people/1&nbsp;</pre> <p>Note: Though <a href="http://www.intertwingly.net/blog/2006/03/12/HTTP-Best-Practices">technical concerns</a> are valid, it doesn&#8217;t sound like David is looking for protocol purity. Workarounds are acceptable if that&#8217;s what&#8217;s required to make this work.<br /> </p> <p>Having CRUD-only conventions means not needing to decide method names anymore - this is one of those stupid small things that nibbles at you like deciding the names of foreign keys. Say you have a &quot;Student&quot; controller, but you&#8217;re adding a &quot;Subject&quot; to him? Hmm&#8230; StudentController#take_subject() or SubjectController#add_student()? Is it so simple as associating the 2 models? Are there other operations that needs to be done when such association is created or destroyed? (eh? crud verbs sneaking in&#8230;) Before you know it&#8230; your StudentController would have 4 methods that arguably relates more to Subjects: drop_subject, show_subjects, update_subjects. <br /> </p> <p>In a CRUD-only world, since controllers are preferred to operate with CRUD-only constraint - and neither Student&#8217;s nor Subject&#8217;s CRUD should handle that - let&#8217;s create a StudyController instead. Now, operations on this student-subject relation will occur simply as CRUD operations in the StudyController.  Makes everything equally simple and awfully consistent.</p> <p>Then he builds on top of &quot;<em>if its a CRUD-only world anyways</em>&quot; and introduces the concept that had just hit him <a href="http://www.loudthinking.com/arc/000592.html">a few days ago</a>: Active Resources. Basically, resources which can be operated upon, behind the scenes, via RESTful CRUD URLs. And of cos, with Rails-style conventions, you <em>KNOW</em> it will be easy. </p><p>Note: The idea is just to model web resources, not to abstract away the underlying engine (sql or url?) for a single model object. To quote his reply (roughly), &quot;<em>I don&#8217;t believe in just flipping a switch and swapping the underlying technology&#8230; These things will leak.</em>&quot;. </p><p>When I saw the slides, I got a flashback to a 2005 Adam Bosworth speech: <a href="http://www.itconversations.com/shows/detail571.html">MySQL, don&#8217;t scale like Oracle! Think bigger!<br /></a></p>If truely scalable data store is what Adam Bosworth has described (and <a href="http://code.google.com/apis/gdata/">GData</a> is apparently Google&#8217;s implementation of such infrastructure) then Rails is well on its way. Taking big strides towards it (knowingly or not) while most other frameworks are still grappling over composite primary keys and plural table names controversies.&nbsp; <p>Rails 1.2 is going to be very, very interesting.&nbsp;</p> <p>Note: Shucks.. <a href="http://choonkeat.svnrepository.com/svn/rails-plugins/krjs/">KRJS</a> naming convention needs a new home then?<br /> </p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/06/railsconf-marti.html">
			
				RailsConf: Martin Fowler Keynote</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-06-24T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>There is so many design architecture. They&#8217;re all different and incompatible. None of them solves all things, the point is to pick and choose the right design for your local problem.</p><p>Rails (most prominently ActiveRecord) took that to heart, and pushed the Active Record Pattern further than the author had thought applicable in real life: Yea, when applications must yield to the DBA&#8217;s database design ActiveRecord would break - but if the applications side has control over the database (the local problem that was picked) ActiveRecord&#8217;s simplicity and directness would produce productivity gain that is simply enormous! So what if it doesn&#8217;t solve all problems? It solved its problem exceedingly well.</p><p>Quick and dirty: </p><p>&nbsp;</p><p>&nbsp;quick != dirty<br /><br />xp &#8211; conversational programming.. (between programmer and business)<br />gist of xp is to turn into a more conversational process<br /><br />aim, fire? or fire, aim fire aim.. how cheap bulletrs are<br /><br />faster development cycle<br /><br />modern-ism : lisp, smalltalk.. uniform beauty. post-modernism: ruby.. hodge podge of solutions.. unix<br /><br /></p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/06/railsconf-dave-.html">
			
				RailsConf: Dave Thomas Keynote</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-06-23T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p>The western father of Ruby, Dave Thomas, gave the opening keynote highlighting 3 unsolved problems in Rails (paying tribute to <a href="http://en.wikipedia.org/wiki/Hilbert's_problems">the 23 problems of mathematics</a>)&nbsp;</p> <ol>   <li>Database Integration: <br />   </li>   <ol>     </ol>   <ul>     <li>ActiveRecord models to extract has_many, belongs_to, etc relationships directly from foreign keys,</li>     <li>Migrations to absorb validation declarations: validates_presence_of, validates_numericality_of&#8230;<br />     </li>   </ul>   <ol>            </ol>    <li>Real-world CRUD (Scaffold)</li>   <ol>     </ol>   <ul>     <li>Handles models&#8217; relationships<br />     </li>     <li>In-browser validation</li>     <li>Skinning<br />     </li>     <li>AJAX<br />     </li>   </ul>   <ol>                      </ol>    <li>Deployment: Splitting Capistrano to 2</li>   <ol>     </ol>   <ul>     <li>Server capistrano declares policies and support</li>     <li>Client capistrano declares what is needed (i.e.dependencies)</li></ul></ol><p>I&#8217;m sure I missed out some. So, there you go, a todo-list for Railers. Too bad RailsDay is over. A motivated 24-hour crunch is good for doing unsexy stuff like these.<br /> </p><p>And yea, I&#8217;ll agree with Dave there, I mentioned this on e27 just the other day: <strong>Ruby corrupted me!</strong> I&#8217;m looking at Ruby code all day these days&#8230; and every other language source code is beginning to look so.. so ugly&#8230; </p><p>Session&#8217;s startin. <a href="http://facebook.railsconf.org/users/43">See ya</a>.&nbsp;</p>


		
		
	</div>

</article>


    <article class="post">
	<header>
		<h2 class="title">
			
			<a href="/weblog/2006/06/back-from-e27-o.html">
			
				Back from E27, Off to Chicago</a>
		</h2>
		<div class="meta date">








  


<time datetime="2006-06-22T00:00:00+08:00" pubdate data-updated="true"></time></div>
	</header>
	<div class="entry-content">
		<p><a href="http://www.entrepreneur27.org/sg/?p=22">E27</a> turned out quite well :-) though lengthy Q&amp;As could&#8217;ve been better controlled with some Oscar music and <em>ushered to be </em><em>continued</em><em> in the corridors</em>. Or maybe its just me being the last presenter! </p><p>Thanks <a href="http://www.justinlee.name/">Justin</a> &amp; <a href="http://bjornlee.wordpress.com/">Bjorn</a> for organising this event! Sorry I had to swap in with a laptop, as my Nokia thumbdrive died on me (remind self: never use storage device from handphone maker and <a href="../../articles/2005/01/28/old-is-better-new-is-just-more">never use handphone from a refrigerator maker</a>) <br /></p><p>The yet-to-be-formed singapore.rb was there as well. We had actually piggy backed on this event for a brief gathering. Though only 3 of us were there (4 I think? But we didn&#8217;t get to connect), it was sure nice to see fellow Railers in the same room (Hi Doug &amp; Billy)&#8230; perhaps a good prep for <a href="http://www.railsconf.org/">the big one</a> tmrw.</p><p>Oh well, *yawn* looks like I gotta sleep before the flight after all&#8230;&nbsp;</p>


		
		
	</div>

</article>


    <nav id="pagenavi">
        
            <a href="/weblog/page/9/" class="prev">Previous</a>
        
        
            <a href="/weblog/page/11/" class="next">Next</a>
        
    </nav>

</div>
	<footer id="footer" class="inner">&copy; 2016

    choonkeat

</footer>
	<script src="/javascripts/slash.js"></script>
<!-- <script src="/javascripts/hyphenator.js"></script> -->


<script type="text/javascript">
      var disqus_shortname = 'choonkeat';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-1438738-3']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




</body>
</html>
